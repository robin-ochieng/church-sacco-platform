# API Environment Variables
NODE_ENV=development
PORT=4000

# Security Configuration
WEB_ORIGIN=http://localhost:3000
THROTTLE_TTL=60
THROTTLE_LIMIT=10

# Supabase Configuration
# Get these from: Supabase Dashboard > Settings > API

# Your Supabase project URL
SUPABASE_URL=https://your-project-ref.supabase.co

# Anon (public) key - Can be used in frontend
SUPABASE_ANON_KEY=your-anon-key-here

# Service role key - Backend only! Full database access, bypass RLS
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Direct Database URL (for Prisma)
# Get from: Supabase Dashboard > Settings > Database > Connection string > URI
DATABASE_URL="postgresql://postgres:[YOUR-PASSWORD]@db.xxxxxxxxxxxxx.supabase.co:5432/postgres"

# Symmetric key used for encrypting PII via pgcrypto helpers
# Generate with: openssl rand -base64 32
PII_ENCRYPTION_KEY="N0nFbcOL1/LedVPMtynNUS+ozy/ei4H3Dw5RQgnAWA0="

# For production with connection pooling (recommended for serverless):
# DATABASE_URL="postgresql://postgres.[PROJECT-REF]:[YOUR-PASSWORD]@aws-0-[REGION].pooler.supabase.com:6543/postgres?pgbouncer=true"

# JWT Configuration
# Generate secrets with: openssl rand -base64 64
JWT_SECRET=your-super-secret-jwt-key-change-in-production-min-32-chars
JWT_REFRESH_SECRET=your-refresh-secret-key-change-in-production-min-32-chars
JWT_EXPIRATION=1h

# CORS (Legacy - use WEB_ORIGIN instead)
FRONTEND_URL=http://localhost:3000

# IMPORTANT: All required variables must be set for the application to start.
# The app will fail to boot with validation errors if any are missing or invalid.
# Required variables:
# - DATABASE_URL (valid PostgreSQL URI)
# - JWT_SECRET (min 32 characters)
# - JWT_REFRESH_SECRET (min 32 characters)
# - SUPABASE_URL (valid URI)
# - SUPABASE_ANON_KEY
# - SUPABASE_SERVICE_ROLE_KEY
# - WEB_ORIGIN (valid URI)
# - PII_ENCRYPTION_KEY (valid base64)

